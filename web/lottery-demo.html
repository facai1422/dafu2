<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½©ç¥¨å¼€å¥–æ•°æ®å±•ç¤º - æ¼”ç¤ºé¡µé¢</title>
    
    <!-- å¼•å…¥jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- å¼•å…¥æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="css/lottery-display.css">
    
    <style>
        body {
            font-family: 'Arial', 'å¾®è½¯é›…é»‘', sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .page-header h1 {
            margin: 0 0 10px 0;
            color: #333;
        }
        
        .page-header p {
            margin: 0;
            color: #666;
        }
        
        .demo-section {
            margin-bottom: 30px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .lottery-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .code-example h4 {
            margin: 0 0 10px 0;
            color: #90cdf4;
        }
        
        .code-example pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <div class="page-header">
            <h1>ğŸ² å½©ç¥¨å¼€å¥–æ•°æ®å±•ç¤ºç³»ç»Ÿ</h1>
            <p>å®æ—¶è·å–å’Œæ˜¾ç¤ºå„ç±»å½©ç¥¨çš„å¼€å¥–æ•°æ®ã€å†å²è®°å½•å’Œèµ°åŠ¿ä¿¡æ¯</p>
        </div>

        <!-- æœ€æ–°å¼€å¥–æ•°æ®å±•ç¤º -->
        <div class="demo-section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“Š æœ€æ–°å¼€å¥–æ•°æ®</h2>
                <div class="controls">
                    <select id="lottery-type-select" class="lottery-select">
                        <option value="cqssc">é‡åº†æ—¶æ—¶å½©</option>
                        <option value="bjk3">åŒ—äº¬å¿«3</option>
                        <option value="f1k3">åˆ†åˆ†å¿«3</option>
                        <option value="f5k3">äº”åˆ†å¿«3</option>
                        <option value="dfssc">ä¸œæ–¹æ—¶æ—¶å½©</option>
                        <option value="bjpk10">åŒ—äº¬PK10</option>
                        <option value="amssc">æ¾³é—¨æ—¶æ—¶å½©</option>
                        <option value="hgssc">éŸ©å›½æ—¶æ—¶å½©</option>
                        <option value="lyk3">é¾™åŸŸå¿«3</option>
                        <option value="amk3">æ¾³é—¨å¿«3</option>
                        <option value="twk3">å°æ¹¾å¿«3</option>
                        <option value="hnk3">æ²³å—å¿«3</option>
                        <option value="azk3">æ¾³æ´²å¿«3</option>
                        <option value="xyk3">å¹¸è¿å¿«3</option>
                        <option value="hgk3">éŸ©å›½å¿«3</option>
                        <option value="jndk3">äº¬ä¸œå¿«3</option>
                        <option value="jspk10">æé€ŸPK10</option>
                        <option value="amkeno">æ¾³é—¨Keno</option>
                    </select>
                    <button class="refresh-btn" onclick="refreshLatest()">ğŸ”„ åˆ·æ–°</button>
                </div>
            </div>
            
            <!-- æœ€æ–°å¼€å¥–æ•°æ®å®¹å™¨ -->
            <div id="lottery-display">
                <div class="loading">æ­£åœ¨åŠ è½½æ•°æ®...</div>
            </div>
        </div>

        <!-- å†å²å¼€å¥–æ•°æ®å±•ç¤º -->
        <div class="demo-section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“‹ å†å²å¼€å¥–è®°å½•</h2>
                <div class="controls">
                    <input type="date" id="history-date" class="lottery-select" />
                    <select id="page-size-select" class="lottery-select">
                        <option value="10">æ¯é¡µ10æ¡</option>
                        <option value="20" selected>æ¯é¡µ20æ¡</option>
                        <option value="50">æ¯é¡µ50æ¡</option>
                    </select>
                    <button class="refresh-btn" onclick="refreshHistory()">ğŸ”„ åˆ·æ–°å†å²</button>
                </div>
            </div>
            
            <!-- å†å²å¼€å¥–æ•°æ®å®¹å™¨ -->
            <div id="lottery-history">
                <div class="loading">æ­£åœ¨åŠ è½½å†å²æ•°æ®...</div>
            </div>
        </div>

        <!-- ä½¿ç”¨ç¤ºä¾‹ä»£ç  -->
        <div class="demo-section">
            <h2 class="section-title">ğŸ’» ä½¿ç”¨ç¤ºä¾‹ä»£ç </h2>
            
            <div class="code-example">
                <h4>1. è·å–æœ€æ–°å¼€å¥–æ•°æ®</h4>
                <pre><code>// è·å–é‡åº†æ—¶æ—¶å½©æœ€æ–°å¼€å¥–æ•°æ®
LotteryAPI.getLatest('cqssc', function(data, lotteryInfo) {
    if (data && data.length > 0) {
        var latest = data[0];
        console.log('æœŸå·:', latest.expect);
        console.log('å¼€å¥–å·ç :', latest.opencode);
        console.log('å¼€å¥–æ—¶é—´:', latest.opentime);
    }
}, 10);

// æˆ–è€…ä½¿ç”¨ä¾¿æ·å‡½æ•°ç›´æ¥æ˜¾ç¤º
displayLatestLottery('cqssc', 'my-container');</code></pre>
            </div>

            <div class="code-example">
                <h4>2. è·å–å†å²å¼€å¥–æ•°æ®</h4>
                <pre><code>// è·å–åŒ—äº¬å¿«3çš„å†å²å¼€å¥–ï¼ˆåˆ†é¡µï¼‰
LotteryAPI.getHistory('bjk3', function(data, pagination) {
    if (data) {
        data.forEach(function(item) {
            console.log(item.expect + ': ' + item.opencode);
        });
        console.log('æ€»é¡µæ•°:', pagination.totalPages);
    }
}, {
    page: 1,
    pageSize: 20,
    date: '2024-01-15'  // å¯é€‰ï¼šæŒ‡å®šæ—¥æœŸ
});

// æˆ–è€…ä½¿ç”¨ä¾¿æ·å‡½æ•°
displayHistoryLottery('bjk3', 'history-container', {
    page: 1,
    pageSize: 20
});</code></pre>
            </div>

            <div class="code-example">
                <h4>3. è·å–èµ°åŠ¿æ•°æ®</h4>
                <pre><code>// è·å–èµ°åŠ¿æ•°æ®ï¼ˆç”¨äºç»˜åˆ¶èµ°åŠ¿å›¾ï¼‰
LotteryAPI.getTrend('cqssc', function(data) {
    if (data) {
        // data æ˜¯æŒ‰æ—¶é—´æ­£åºæ’åˆ—çš„å¼€å¥–æ•°æ®
        // å¯ä»¥ç”¨äºç»˜åˆ¶èµ°åŠ¿å›¾ã€åˆ†æç­‰
        console.log('è·å–åˆ°', data.length, 'æ¡èµ°åŠ¿æ•°æ®');
    }
}, 30);</code></pre>
            </div>

            <div class="code-example">
                <h4>4. HTML ç»“æ„ç¤ºä¾‹</h4>
                <pre><code>&lt;!-- å¼•å…¥å¿…è¦çš„æ–‡ä»¶ --&gt;
&lt;link rel="stylesheet" href="css/lottery-display.css"&gt;
&lt;script src="https://code.jquery.com/jquery-3.6.0.min.js"&gt;&lt;/script&gt;
&lt;script src="js/lottery-api.js"&gt;&lt;/script&gt;

&lt;!-- æœ€æ–°å¼€å¥–å®¹å™¨ --&gt;
&lt;div id="lottery-display"&gt;&lt;/div&gt;

&lt;!-- å†å²å¼€å¥–å®¹å™¨ --&gt;
&lt;div id="lottery-history"&gt;&lt;/div&gt;

&lt;script&gt;
// é¡µé¢åŠ è½½å®Œæˆåè·å–æ•°æ®
$(document).ready(function() {
    displayLatestLottery('cqssc', 'lottery-display');
    displayHistoryLottery('cqssc', 'lottery-history');
});
&lt;/script&gt;</code></pre>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥å½©ç¥¨APIè„šæœ¬ -->
    <script src="js/lottery-api.js"></script>
    
    <script>
        // å½“å‰é€‰ä¸­çš„å½©ç¥¨ç±»å‹
        var currentLotteryType = 'cqssc';
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        $(document).ready(function() {
            // åŠ è½½é»˜è®¤æ•°æ®
            refreshLatest();
            refreshHistory();
            
            // ç»‘å®šå½©ç¥¨ç±»å‹é€‰æ‹©äº‹ä»¶
            $('#lottery-type-select').change(function() {
                currentLotteryType = $(this).val();
                refreshLatest();
                refreshHistory();
            });
        });
        
        // åˆ·æ–°æœ€æ–°å¼€å¥–æ•°æ®
        function refreshLatest() {
            $('#lottery-display').html('<div class="loading">æ­£åœ¨åŠ è½½æ•°æ®...</div>');
            displayLatestLottery(currentLotteryType, 'lottery-display');
        }
        
        // åˆ·æ–°å†å²å¼€å¥–æ•°æ®
        function refreshHistory() {
            $('#lottery-history').html('<div class="loading">æ­£åœ¨åŠ è½½å†å²æ•°æ®...</div>');
            
            var options = {
                page: 1,
                pageSize: parseInt($('#page-size-select').val())
            };
            
            var selectedDate = $('#history-date').val();
            if (selectedDate) {
                options.date = selectedDate;
            }
            
            displayHistoryLottery(currentLotteryType, 'lottery-history', options);
        }
        
        // æ˜¾ç¤ºæ›´æ–°æç¤º
        function showUpdateNotice(message) {
            var notice = $('<div class="update-notice">' + message + '</div>');
            $('body').append(notice);
            
            setTimeout(function() {
                notice.addClass('show');
            }, 100);
            
            setTimeout(function() {
                notice.removeClass('show');
                setTimeout(function() {
                    notice.remove();
                }, 300);
            }, 2000);
        }
        
        // å®šæ—¶åˆ·æ–°ï¼ˆå¯é€‰ï¼‰
        // setInterval(function() {
        //     refreshLatest();
        //     showUpdateNotice('æ•°æ®å·²æ›´æ–°');
        // }, 60000); // æ¯åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
    </script>
</body>
</html>
