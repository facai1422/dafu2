InitLotteryHTML={lotteryJSONData:null,oneJsonData:null,lotteryId:"",type:1,initialize:function(){this.cleanTimeOut();LotteryUitl.cleanTableCount();this.initStyle();if(!InitLotteryHTML.lotteryJSONData){this.getLotteryJSON()}this.getOneLottery(this.lotteryId)},initRenderView:function(){this.horizontalBetTableTotal();this.toggleAccordion()},toggleAccordion:function(){var a=this;$("#accordion").find("li").click(function(){$("#accordion").find("li").removeClass("active");$(this).addClass("active")});$("#accordion").find("a[sign]").each(function(){$(this).parent().removeClass("active");if($(this).attr("sign")==a.lotteryId){$(this).parent().addClass("active");var b=$(this).closest(".collapse");b.prev().find("i.glyphicon").trigger("click")}})},horizontalBetTableTotal:function(){if(!LotteryUitl.isVertical()){$("#myTab").find("a").each(function(c,b){switch(c){case 0:$(this).click(function(){$(".wsBuy").find("p").css("visibility","visible")});break;case 1:$(this).click(function(){$(".wsBuy").find("p").css("visibility","hidden")});break;case 2:$(this).click(function(){$(".wsBuy").find("p").css("visibility","hidden")});break;default:break}})}},cleanTimeOut:function(){SendReq.gloabTime=window.clearInterval(SendReq.gloabTime);SendReq.intervalBetCount=window.clearInterval(SendReq.intervalBetCount);SendReq.closeAll()},initStyle:function(){if(this.lotteryId==50){SendReq.mmcTime=1;$("#serial").val(1);$(".mmc").show();$(".normalC").hide()}else{$(".mmc").hide();$(".normalC").show()}$("#betTable").parent().mCustomScrollbar({setHeight:172,theme:"minimal-dark"});$("#trend_address").attr("href",trend_address+this.lotteryId)},getLotteryJSON:function(){var a=ctx+"/resources/js/json/lottery_c.txt";$.ajax({url:a,type:"GET",async:false,success:function(c){var b=LZString.decompressFromBase64(c);InitLotteryHTML.lotteryJSONData=$.parseJSON(b)}})},getOneLottery:function(b){for(var a=0;a<this.lotteryJSONData.length;a++){if(this.lotteryJSONData[a].lotteryId.in_array(b)){InitLotteryHTML.oneJsonData=this.lotteryJSONData[a];this.type=this.oneJsonData.type;break}}},defaultLottery:function(id){if(!id){id=12}var ll=eval(lotteryList);for(var i=0;i<ll.length;i++){var item=ll[i];if(item.LotteryCode==id){return true}}return false},initHTML:function(d,c){this.lotteryId=d;$("#currentPrize").empty();this.initialize();$(".bettingTable #home").addClass("active");$(".bettingTable #profile").removeClass("active");$("#myTab li:eq(0) a").trigger("click");var b=$(".lotteryMenu1").empty();var a=$(".lotteryMenu2");$.each(this.oneJsonData.playMethod,function(f,h){var g=this;b.append("<a id='play_"+f+"' >"+h.category+"</a>");var e=g.declare;a.empty();$("#play_"+f).on("click",function(t){$(this).addClass("active");$(this).siblings().removeClass("active");var p=g.declare;a.empty();for(var o=0;o<p.length;o++){var s=p[o];var l=s.child;var r=s.declareName?"：":"";$("<div>").append($("<b>").text(s.declareName+r).attr("class","dong-cry")).appendTo(a);if(!s.dxds){for(var n=0;n<l.length;n++){var q=a.find("div:eq("+o+")");var m=l[n];var i=json2str(m);$("<a></a>").attr("pid",m.playId).attr("mode",m.mode).attr("onclick","InitLotteryHTML.ball(this,"+i+")").text(m.playName).appendTo(q)}}else{for(var n=0;n<l.length;n++){var i=json2str(l[n]);a.find("div:eq("+o+")").append($("<a></a>").attr("pid",l[n].playId).attr("mode",l[n].mode).attr("onclick","InitLotteryHTML.ball(this,"+i+",true)").text(l[n].playName))}}}a.append('<span class="play_info"><span class=""><i class="iconfont icon-wanfajiangjin"></i>玩法奖金：<i style="color: #b39475" id="paly-prize-fixed">2300.00</i>元</span><span class="dropdown bonus" id="bonus_dropdown"><a id="bonus_a" data-target="#bonus_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn_bonus">玩法说明</a><div class="dropdown-menu" role="menu" aria-labelledby="bonus_a"><p id="play_tip"></p></div></span>');a.find("div:eq(0)").find("a:eq(0)").click()})});LotteryUitl.initActive();$("#multipleInput").val(1);SendReq.initReq(d);$("#record_list").find("a:eq(0)").click();$("#record_list_mmc").find("a:eq(0)").click();InitLotteryHTML._refresh_quick_lottery()},_refresh_quick_lottery:function(){var c=getCookie("_lotteryArr");if(c){lottery_arr=c.split(",")}else{c=[]}var a=lottery_arr.length;if(a<=0){$(".lottery_nav").hide()}else{$(".lottery_nav").show();$("#record_ul").html("");var d="";for(var b=a-1;b>=0;b--){if(lotteryList.indexOf('"LotteryCode":'+lottery_arr[b]+",")!=-1){d+='<li data-target="'+lottery_arr[b]+'"><a href="javascript:;" onclick="LotterySort.reloadLottery('+lottery_arr[b]+')"><img src="'+ctx+"/resources/images/lotteryName/lottery_"+lottery_arr[b]+'.png"></a><span class="glyphicon glyphicon-remove-circle" style="cursor: pointer;" onclick="InitLotteryHTML._close_quick_lottery(this)"></span></li>'}}$("#record_ul").html(d)}},_close_quick_lottery:function(d){var a=$(d).parent().attr("data-target");var c=getCookie("_lotteryArr");if(c){lottery_arr=c.split(",")}if(lottery_arr.length!=null){var b=$.inArray(a+"",lottery_arr);if(b!=-1){lottery_arr.splice(b,1)}}setCookie("_lotteryArr",lottery_arr.toString());InitLotteryHTML._refresh_quick_lottery()},ball:function(a,str,isDXDS){$(a).parent().parent().find("a").removeClass("active");$(a).addClass("active");$(".menu2active_btn").text($(a).text());var o=eval(str);var numArr=o.num?o.num:0;var rowArr=o.row?o.row:0;var $div=$(".lotteryBuy").empty();var bj8Class;$("#play_tip").attr("title",o.role);$("#play_tip").html(o.role);if(o.select){var $checkboxs=$("<div class='lotteryOpreAuto'>").appendTo($("<div>").attr("class","lb_list").appendTo($div.css("position","relative")));$checkboxs.append('位置：<input type="checkbox" id="_w" name="location"/><label for="_w">万位</label><input type="checkbox" id="_q" name="location"/><label for="_q">千位</label><input type="checkbox" id="_b" name="location"/><label for="_b">百位</label><input type="checkbox" id="_s" name="location"/><label for="_s">十位</label><input type="checkbox" id="_g" name="location"/><label for="_g">个位</label>');if(o.selectIndex){LotteryUitl.arrLocation=o.selectIndex;var $location=$("input[name='location']");$location.each(function(i,d){$(this).prop("checked",o.selectIndex[i]);$(this).click(function(){LotteryUitl.arrLocation[i]=$(this).prop("checked");LotteryUitl.getLocation()})})}}if((o.mode==="0")||(o.mode==="16")||(o.mode==="1")){if(!!rowArr){for(var i=0;i<rowArr.length;i++){var $list=null;var backgroundColor=i%2==0?"lb_list":"lb_list";if(this.lotteryId==50){$list=$("<div>").attr("class","lb_list").appendTo($div)}else{$list=$("<div>").attr("class",backgroundColor).appendTo($div)}$("<span>").attr("class","digit").text(rowArr[i]).appendTo($("<div>").attr("class","digit_box").appendTo($list));if(LotteryUitl.type==8){$("#play_0").hasClass("active")?bj8Class="lotteryBallKl8":bj8Class="lotteryBall3";$("<div>").attr("class","lotteryBall "+bj8Class).attr("rowSign",0).appendTo($list)}else{if(LotteryUitl.type==9){$("<div>").attr("class","lotteryBall lotteryBall1 lotteryBall5").attr("rowSign",i).appendTo($list);$("<div>").attr("class","lotteryOpre lotteryOpreFr").appendTo($list)}else{if(this.lotteryId==90){$("<div>").attr("class","lotteryBall lotteryBall1 lotteryBall5").attr("rowSign",i).appendTo($list)}else{$("<div>").attr("class","lotteryBall lotteryBall1").attr("rowSign",i).appendTo($list)}$("<div>").attr("class","lotteryOpre lotteryOpreFr").appendTo($list)}}if(this.lotteryId==90){$(".lotteryOpreFr").css("margin-top","25px");$("#currentPrize").attr("class","theLottery theLottery_pk10 theLottery_nongchang")}else{$("#currentPrize").removeClass("theLottery_");$("#currentPrize").addClass("theLottery")}var lotteryCode=getDefaultLottery();if(lotteryCode==86){$("#currentPrize").addClass("theLottery_beijing")}if(lotteryCode==9){$("#currentPrize").addClass("theLottery_beijingkuaile")}if(lotteryCode==57){$("#currentPrize").addClass("theLottery_tengxun")}if(lotteryCode==73){$("#currentPrize").addClass("theLottery_taiwan")}if(lotteryCode==18){$("#currentPrize").addClass("theLottery_pailiewu")}var $ball=$(".lotteryBall:eq("+i+")");$(".lotteryOpre:eq("+i+")").append("<a href='javascript:;' id='all_"+i+"'>全</a><a href='javascript:;' id='big_"+i+"'>大</a><a href='javascript:;' id='small_"+i+"'>小</a><a href='javascript:;' id='odd_"+i+"'>奇</a><a href='javascript:;' id='even_"+i+"'>偶</a><a id='clean_"+i+"'>清</a>");if(!isDXDS&&typeof o.dxds=="undefined"){for(var j=numArr[0];j<=numArr[1];j++){if(numArr[1]==11||numArr[1]==10){var h=(j<10)?("0"+j):j;$("<a href='javascript:;'></a>").text(h).appendTo($ball)}else{if(this.lotteryId==90){if(j==10){$("<a href='javascript:;'></a>").text(j).appendTo($ball)}else{if(j<10){$("<a href='javascript:;'></a>").text("0"+j).appendTo($ball)}else{if(j===11){$("<br>").appendTo($ball)}$("<a href='javascript:;'></a>").text(j).appendTo($ball)}}}else{$("<a href='javascript:;'></a>").text(j).appendTo($ball)}}}}else{if(this.lotteryId==90){$(".digit").css("margin-top","10px");$(".lotteryBall1").css("margin-top","5px");$(".lotteryOpreFr").css("margin-top","15px")}if(o.playName=="龙"&&this.lotteryId==90||o.playName=="虎"&&this.lotteryId==90){$(".lb_list .lotteryBall1").css("width","400px");$(".lb_list .lotteryBall1 a").css("margin-top","5px");$(".digit").css("margin-top","8%");$(".lotteryOpre").css("margin-top","8%")}for(var j=0;j<numArr[0].length;j++){$("<a href='javascript:;'></a>").text(numArr[i][j]).appendTo($ball)}if(this.lotteryId!=90){$(".lotteryOpre").remove()}}if(o.playName=="大小单双"||o.playName=="大小和"||o.playName=="四季方位"||o.playName=="五行"||o.playName=="龙"||o.playName=="虎"){$("#big_"+i).remove();$("#small_"+i).remove();$("#odd_"+i).remove();$("#even_"+i).remove()}if(o.mode==="1"){$(".lotteryOpre").remove()}if(this.lotteryId=="50"){$(".nav-tabs li:eq(1)").css("display","none")}else{$(".nav-tabs li:eq(1)").css("display","block")}}}else{var $list=$("<div>").attr("class","lb_list").appendTo($div);var $sumBall=$("<div>").attr("class","lotteryBall lotteryBall1").attr("rowSign",0).appendTo($list);for(var j=numArr[0];j<=numArr[1];j++){$("<a href='javascript:;'></a>").text(j).appendTo($sumBall);if((j===Math.round((numArr[1]-1)/2))&&numArr[1]>10){$("<br>").appendTo($sumBall)}}}}else{if(o.mode==="8"){var $list=$("<div>").attr("class","lb_list").appendTo($div);$("<div>").attr("class","lotteryBall lotteryBall4").append($("<textarea style='resize:none'>").attr("id","textareaId")).appendTo($list);$("<div>").attr("class","lotteryOpre lotteryOpreFrText").append($("<p>").html(o.explain)).appendTo($list);$("#textareaId").after('<input type="file" class="btn up_input" onchange="_readFile(this)" id="importTxt" style="opacity:0;"><span class="up_icon btn_betting" id="_up_enable_btn">导入</span>');$("#_up_enable_btn").after('<button type="button" class="btn btn_betting bet_clear"  id="cleanTextarea"><i class="iconfont icon-delete"></i>清除</button>');$("#cleanTextarea").after('<button type="button" class="btn btn_betting bet_repeat" id="repeatTextarea"><i class="iconfont icon-quchong"></i>去重</button>')}}if(this.type==8){if($("#play_0").hasClass("active")){var $a=$("<div>").attr("class","lotteryOpre lotteryOpre_mrauto").appendTo($("<div>").attr("class","lb_list").appendTo($div));$a.append('<a id="bj8_all">全</a><a id="bj8_small">上</a><a id="bj8_big">下</a><a  id="bj8_odd">奇</a><a  id="bj8_even">偶</a><a  id="bj8_clean">清</a>');LotteryUitl.bj8Help()}}if($(a).html()=="特殊号"){var $el=$(a).parents(".lotteryMenu2").next(".lotteryBuy").find(".lotteryBall").addClass("lotteryBall4")}LotteryUitl.initEvent();if($(".main_left").height()<=$(".main_right").height()){$(".main_left").height($(".main_right").height())}else{$(".main_left").height($(".main_right").height())}$(".recent_box").height()}};